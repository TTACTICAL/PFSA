# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: 'windows-latest'

steps:
- script: |
    set PATH=MinGW\bin\;%PATH%;Python36\Scripts;MinGW\usr\include\python3.6m\
    cython --embed hello_world.py
  displayName: 'Python to C'

- script: |
    MinGW\bin\x86_64-w64-mingw32-gcc-7.4.0.exe hello_world.c -I MinGW\bin -I MinGW\usr\include\python3.6m\ -I CryptLib\ -lpython3.6m -I MinGW\usr\include\bits -I MinGW\usr\include\sys\Libraries\ -L MinGW/usr/include/python3.6/ -o PFSA.exe'
  displayName: 'C to .exe file'
